<!DOCTYPE html>
<html lang="ru">
<head>
<meta charset="UTF-8" />
<meta name="viewport" content="width=device-width,initial-scale=1" />
<title>–ì–ù–ú –ù–∞–≤–∏–≥–∞—Ç–æ—Ä ‚Äî –ü–æ–ª–Ω–∞—è –±–∞–∑–∞ (WIP)</title>
<meta name="description" content="–û—Ñ–ª–∞–π–Ω-–Ω–∞–≤–∏–≥–∞—Ç–æ—Ä –ø–æ –°–ë–ü –ì–ù–ú: –ø–æ–∏—Å–∫ –ø–æ –æ—Ä–≥–∞–Ω–∞–º, –∫–æ–Ω—Ñ–ª–∏–∫—Ç–∞–º, —Å–∏–º–ø—Ç–æ–º–∞–º –∏ –¥–∏–∞–≥–Ω–æ–∑–∞–º. –î–∞–Ω–Ω—ã–µ —Å–æ—Ö—Ä–∞–Ω—è—é—Ç—Å—è –ª–æ–∫–∞–ª—å–Ω–æ.">
<style>
:root{
 --accent:#3fa5ff; --bg:#f5f5f7; --bgd:#0f1115;
 --tx:#1f2328; --txd:#e7eaf0; --card:#fff; --cardd:#141821;
 --muted:#6b7280; --ring:rgba(63,165,255,.25);
 font-family:system-ui,-apple-system,Segoe UI,Roboto,Inter,Arial,sans-serif;
}
*{box-sizing:border-box}
body{margin:0;background:var(--bg);color:var(--tx);transition:.25s}
body.dark{background:var(--bgd);color:var(--txd)}
.wrap{max-width:1200px;margin:0 auto}
header{position:sticky;top:0;z-index:10;display:flex;gap:.75rem;align-items:center;justify-content:space-between;
  padding:12px 16px;background:rgba(255,255,255,.75);backdrop-filter:blur(10px);border-bottom:1px solid #0001}
body.dark header{background:rgba(15,17,21,.75);border-color:#fff1}
.brand{font-weight:800;letter-spacing:.2px}
.tools{display:flex;gap:.5rem;align-items:center;flex-wrap:wrap}
.search{min-width:220px;flex:1;display:flex;align-items:center;gap:.5rem;background:var(--card);
  border:1px solid #0002;border-radius:12px;padding:.45rem .6rem}
body.dark .search{background:var(--cardd);border-color:#fff1}
.search input{flex:1;border:0;outline:0;background:transparent;color:inherit;font-size:14px}
.kbd{font:12px/1 mono;opacity:.65;border:1px solid #0002;border-radius:6px;padding:2px 6px}
body.dark .kbd{border-color:#fff2}
.btn{border:1px solid #0002;background:var(--card);color:inherit;border-radius:10px;padding:.45rem .7rem;cursor:pointer}
body.dark .btn{background:var(--cardd);border-color:#fff1}
.btn:hover{box-shadow:0 0 0 3px var(--ring)}
.tabs{display:flex;gap:.5rem;flex-wrap:wrap;justify-content:center;padding:8px 12px}
.tab{padding:.45rem .8rem;border-radius:999px;cursor:pointer;border:1px solid #0002;background:var(--card)}
body.dark .tab{background:var(--cardd);border-color:#fff1}
.tab.active{background:var(--accent);color:#fff;border-color:transparent}
.cards{display:grid;grid-template-columns:repeat(auto-fit,minmax(280px,1fr));gap:12px;padding:12px}
.card{background:var(--card);border:1px solid #0002;border-radius:14px;padding:14px;box-shadow:0 1px 2px rgba(0,0,0,.06)}
body.dark .card{background:var(--cardd);border-color:#fff1;box-shadow:0 1px 2px rgba(255,255,255,.06)}
.card h3{margin:0 0 6px;color:var(--accent);font-size:18px}
.card p{margin:6px 0;font-size:14px}
.badge{display:inline-block;background:#eef6ff;color:#0a66c2;border-radius:999px;padding:2px 8px;font-size:12px;margin:2px 6px 0 0}
body.dark .badge{background:#0e2136;color:#8ec4ff}
textarea{width:100%;min-height:72px;resize:vertical;border-radius:10px;border:1px solid #0002;padding:8px;background:transparent;color:inherit}
body.dark textarea{border-color:#fff1}
footer{padding:20px 12px;text-align:center;opacity:.75;font-size:13px}
.hr{height:1px;background:#0001;margin:6px 0}
body.dark .hr{background:#fff1}
.small{font-size:12px;opacity:.75}
</style>
</head>
<body>
<header class="wrap">
  <div class="brand">üß† –ì–ù–ú –ù–∞–≤–∏–≥–∞—Ç–æ—Ä ‚Äî –ü–æ–ª–Ω–∞—è –±–∞–∑–∞</div>
  <div class="tools">
    <div class="search" title="–ü–æ–∏—Å–∫ –ø–æ –æ—Ä–≥–∞–Ω—É, –∫–æ–Ω—Ñ–ª–∏–∫—Ç—É, —Å–∏–º–ø—Ç–æ–º–∞–º, –¥–∏–∞–≥–Ω–æ–∑–∞–º">
      <svg width="16" height="16" viewBox="0 0 24 24" fill="none"><path d="M21 21l-4.35-4.35M10.5 18a7.5 7.5 0 1 1 0-15 7.5 7.5 0 0 1 0 15Z" stroke="currentColor" stroke-width="1.8" stroke-linecap="round"/></svg>
      <input id="q" placeholder="–ü–æ–∏—Å–∫: –æ—Ä–≥–∞–Ω / –∫–æ–Ω—Ñ–ª–∏–∫—Ç / —Å–∏–º–ø—Ç–æ–º / –¥–∏–∞–≥–Ω–æ–∑" />
      <span class="kbd">/</span>
    </div>
    <button id="theme" class="btn">üåô –¢–µ–º–∞</button>
  </div>
</header>

<main class="wrap">
  <nav id="tabs" class="tabs"></nav>
  <section id="cards" class="cards" aria-live="polite"></section>
</main>

<footer class="wrap">
  <div class="hr"></div>
  <div>¬© Andrey Balabucha ¬∑ –û—Ñ–ª–∞–π–Ω. –ó–∞–º–µ—Ç–∫–∏ —Ö—Ä–∞–Ω—è—Ç—Å—è –≤ LocalStorage.</div>
  <div class="small">5 –ë–ù–ó: –±–∏–æ—Å–º—ã—Å–ª, –¥–≤—É—Ö—Ñ–∞–∑–Ω–æ—Å—Ç—å, –º–∏–∫—Ä–æ–±—ã-—Ä–µ–º–æ–Ω—Ç, –æ–Ω—Ç–æ–≥–µ–Ω–µ–∑ —Ç–∫–∞–Ω–µ–π, —Ä–æ–ª—å –ø—Å–∏—Ö–∏–∫–∏/–º–æ–∑–≥–∞/–æ—Ä–≥–∞–Ω–∞.</div>
</footer>

<script>
/* === –¢–ï–ú–ê, –í–ö–õ–ê–î–ö–ò, –ü–û–ò–°–ö === */
const TABS = [
  {id:'endoderma', label:'–≠–Ω–¥–æ–¥–µ—Ä–º–∞'},
  {id:'meso_old',  label:'–°—Ç–∞—Ä–∞—è –º–µ–∑–æ–¥–µ—Ä–º–∞'},
  {id:'meso_new',  label:'–ù–æ–≤–∞—è –º–µ–∑–æ–¥–µ—Ä–º–∞'},
  {id:'ectoderma', label:'–≠–∫—Ç–æ–¥–µ—Ä–º–∞'},
  {id:'nervous',   label:'–ù–µ—Ä–≤–Ω–∞—è —Å–∏—Å—Ç–µ–º–∞'}
];
let state = {
  tab: localStorage.getItem('gnm.tab') || 'endoderma',
  theme: localStorage.getItem('gnm.theme') || (matchMedia('(prefers-color-scheme:dark)').matches?'dark':'light'),
  q: ''
};
if(state.theme==='dark'){ document.body.classList.add('dark'); document.getElementById('theme').textContent='‚òÄÔ∏è –¢–µ–º–∞'; }
document.getElementById('theme').onclick=()=>{
  document.body.classList.toggle('dark');
  state.theme=document.body.classList.contains('dark')?'dark':'light';
  localStorage.setItem('gnm.theme',state.theme);
  document.getElementById('theme').textContent=state.theme==='dark'?'‚òÄÔ∏è –¢–µ–º–∞':'üåô –¢–µ–º–∞';
};
const tabsEl=document.getElementById('tabs');
TABS.forEach(t=>{
  const b=document.createElement('button');
  b.className='tab'+(t.id===state.tab?' active':''); b.textContent=t.label;
  b.onclick=()=>{ state.tab=t.id; localStorage.setItem('gnm.tab',t.id); render(); };
  tabsEl.appendChild(b);
});
window.addEventListener('keydown',e=>{ if(e.key==='/'){ e.preventDefault(); document.getElementById('q').focus(); }});
document.getElementById('q').addEventListener('input',e=>{ state.q=e.target.value.toLowerCase().trim(); render(); });

/* === –ë–ê–ó–ê –î–ê–ù–ù–´–• (–∑–∞–ø–æ–ª–Ω–µ–Ω–æ: —ç–Ω–¥–æ–¥–µ—Ä–º–∞ + —Å—Ç–∞—Ä–∞—è –º–µ–∑–æ–¥–µ—Ä–º–∞; –æ—Å—Ç–∞–ª—å–Ω–æ–µ ‚Äî –∑–∞–≥–ª—É—à–∫–∏) === */
const DB = {
  endoderma: [
    {id:'endo_1', organ:'–†–æ—Ç–æ–≤–∞—è –ø–æ–ª–æ—Å—Ç—å, –¥—ë—Å–Ω—ã, —Å–ª—é–Ω–Ω—ã–µ –∂–µ–ª–µ–∑—ã', conflict:'–ù–µ–≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç—å ¬´–∑–∞—Ö–≤–∞—Ç–∏—Ç—å¬ª/¬´—É–¥–µ—Ä–∂–∞—Ç—å –∫—É—Å–æ–∫¬ª.', symptoms:'CA: –≥–∏–ø–µ—Ä—Å–µ–∫—Ä–µ—Ü–∏—è, —É—Ç–æ–ª—â–µ–Ω–∏–µ –∂–µ–ª—ë–∑. PCL: –≤–æ—Å–ø–∞–ª–µ–Ω–∏–µ, –æ—Ç—ë–∫, –±–æ–ª—å.', diagnosis:'–°–∏–∞–ª–æ–∞–¥–µ–Ω–∏—Ç, –ø–∞—Ä–æ–¥–æ–Ω—Ç–æ–∑/–≥–∏–Ω–≥–∏–≤–∏—Ç, –∞–¥–µ–Ω–æ-–∫–∞—Ä—Ü–∏–Ω–æ–º–∞ (–¥–ª–∏—Ç. CA).', sense:'–û–±–ª–µ–≥—á–∏—Ç—å –∑–∞—Ö–≤–∞—Ç –∏ –ø–µ—Ä–≤–∏—á–Ω—É—é –æ–±—Ä–∞–±–æ—Ç–∫—É ¬´–∫—É—Å–∫–∞¬ª.', laterality:'–õ–µ–≤–∞—è ‚Äî ¬´–Ω–µ –º–æ–≥—É –≤–∑—è—Ç—å¬ª, –ø—Ä–∞–≤–∞—è ‚Äî ¬´–Ω–µ —Ö–æ—á—É –æ—Ç–¥–∞–≤–∞—Ç—å¬ª.', tags:['—ç–Ω–¥–æ–¥–µ—Ä–º–∞','–ø–∏—â–µ–≤–∞—Ä–µ–Ω–∏–µ']},
    {id:'endo_2', organ:'–ü–∏—â–µ–≤–æ–¥', conflict:'–ù–µ –º–æ–≥—É –ø—Ä–æ–≥–ª–æ—Ç–∏—Ç—å/–≤—ã–ø–ª—é–Ω—É—Ç—å ¬´–∫—É—Å–æ–∫¬ª.', symptoms:'CA: —Å–ø–∞–∑–º—ã/–¥–∏—Å—Ñ–∞–≥–∏—è. PCL: –≤–æ—Å–ø–∞–ª–µ–Ω–∏–µ, –æ—Ç—ë–∫, –±–æ–ª—å –ø—Ä–∏ –≥–ª–æ—Ç–∞–Ω–∏–∏.', diagnosis:'–≠–∑–æ—Ñ–∞–≥–∏—Ç, –∫–∞—Ä—Ü–∏–Ω–æ–º–∞ (–¥–∏—Å—Ç–∞–ª—å–Ω.), —ç—Ä–æ–∑–∏–∏/—è–∑–≤—ã (–ø—Ä–æ–∫—Å–∏–º.).', sense:'–û–±–ª–µ–≥—á–∏—Ç—å –ø—Ä–æ—Ö–æ–∂–¥–µ–Ω–∏–µ/–æ—Ç—Ç–æ—Ä–∂–µ–Ω–∏–µ ¬´–∫—É—Å–∫–∞¬ª.', laterality:'–ü–æ –∫–æ–Ω—Ç–µ–∫—Å—Ç—É –ø–∞—Ä—Ç–Ω—ë—Ä/–º–∞—Ç—å-—Ä–µ–±—ë–Ω–æ–∫.', tags:['—ç–Ω–¥–æ–¥–µ—Ä–º–∞','—ç–∫—Ç–æ–¥–µ—Ä–º–∞']},
    {id:'endo_3', organ:'–ñ–µ–ª—É–¥–æ–∫ (–∂–µ–ª–µ–∑—ã/—Å–ª–∏–∑–∏—Å—Ç–∞—è)', conflict:'¬´–ù–µ –ø–µ—Ä–µ–≤–∞—Ä–∏–≤–∞—é¬ª –æ–±–∏–¥—É/—É–Ω–∏–∂–µ–Ω–∏–µ/–ø—Ä–µ–¥–∞—Ç–µ–ª—å—Å—Ç–≤–æ.', symptoms:'CA: –≥–∏–ø–µ—Ä—Å–µ–∫—Ä–µ—Ü–∏—è/—ç—Ä–æ–∑–∏–∏. PCL: –≥–∞—Å—Ç—Ä–∏—Ç, –±–æ–ª—å, —É—Ç–æ–º–ª—è–µ–º–æ—Å—Ç—å.', diagnosis:'–ì–∞—Å—Ç—Ä–∏—Ç, —è–∑–≤–∞, –∞–¥–µ–Ω–æ–∫–∞—Ä—Ü–∏–Ω–æ–º–∞/–ø–ª–æ—Å–∫–æ–∫–ª–µ—Ç–æ—á–Ω—ã–µ –∏–∑–º.', sense:'–£—Å–∏–ª–∏—Ç—å –ø–µ—Ä–µ–≤–∞—Ä–∏–≤–∞–Ω–∏–µ ¬´—Ç—Ä—É–¥–Ω–æ–≥–æ –∫—É—Å–∫–∞¬ª.', laterality:'–ü: –ø–∞—Ä—Ç–Ω—ë—Ä; –õ: –º–∞—Ç—å/—Ä–µ–±—ë–Ω–æ–∫ (–¥–ª—è –ø—Ä–∞–≤—à–∏).', tags:['—ç–Ω–¥–æ–¥–µ—Ä–º–∞','–∂–µ–ª—É–¥–æ–∫']},
    {id:'endo_4', organ:'–ü–µ—á–µ–Ω—å', conflict:'–ü–æ—Ç–µ—Ä—è ¬´–∫—É—Å–∫–∞¬ª/–∂–∏–∑–Ω–µ–Ω–Ω–æ–≥–æ —Ä–µ—Å—É—Ä—Å–∞.', symptoms:'CA: —Ä–æ—Å—Ç –≥–µ–ø–∞—Ç–æ—Ü–∏—Ç–æ–≤. PCL: –≥–µ–ø–∞—Ç–∏—Ç–æ–ø–æ–¥–æ–±–Ω–æ–µ –≤–æ—Å–ø–∞–ª–µ–Ω–∏–µ.', diagnosis:'–†–∞–∫ –ø–µ—á–µ–Ω–∏ (CA), ¬´–≥–µ–ø–∞—Ç–∏—Ç¬ª (PCL).', sense:'–£—Å–∏–ª–∏—Ç—å —É—Å–≤–æ–µ–Ω–∏–µ/–Ω–∞–∫–æ–ø–ª–µ–Ω–∏–µ —Ä–µ—Å—É—Ä—Å–∞.', laterality:'–ü ‚Äî –∫–æ–Ω–∫—Ä–µ—Ç–Ω—ã–π —Ä–µ—Å—É—Ä—Å, –õ ‚Äî —ç–º–æ—Ü–∏–æ–Ω–∞–ª—å–Ω—ã–π.', tags:['—ç–Ω–¥–æ–¥–µ—Ä–º–∞','–ø–µ—á–µ–Ω—å']},
    {id:'endo_5', organ:'–ñ–µ–ª—á–Ω—ã–π –ø—É–∑—ã—Ä—å', conflict:'¬´–ñ–∏—Ä–Ω—ã–π/–Ω–µ—Å–ø—Ä–∞–≤–µ–¥–ª–∏–≤—ã–π –∫—É—Å–æ–∫¬ª –Ω–µ –ø–µ—Ä–µ–≤–∞—Ä–∏–≤–∞–µ—Ç—Å—è.', symptoms:'CA: –∑–∞—Å—Ç–æ–π –∂–µ–ª—á–∏. PCL: –∫–æ–ª–∏–∫–∏, –≤–æ—Å–ø–∞–ª–µ–Ω–∏–µ.', diagnosis:'–ö–∞–º–Ω–∏, —Ö–æ–ª–µ—Ü–∏—Å—Ç–∏—Ç.', sense:'–£—Å–∏–ª–∏—Ç—å —ç–º—É–ª—å–≥–∞—Ü–∏—é ¬´—Ç—è–∂—ë–ª–æ–≥–æ –∫—É—Å–∫–∞¬ª.', tags:['—ç–Ω–¥–æ–¥–µ—Ä–º–∞','–∂–µ–ª—á—å']},
    {id:'endo_6', organ:'–ü–æ–¥–∂–µ–ª—É–¥–æ—á–Ω–∞—è –∂–µ–ª–µ–∑–∞', conflict:'¬´–ù–µ —Ö–≤–∞—Ç–∞–µ—Ç –¥–ª—è –∂–∏–∑–Ω–∏¬ª / —Å–µ–º–µ–π–Ω–∞—è ¬´–æ–±–∏–¥–∞-–∫—É—Å–æ–∫¬ª.', symptoms:'CA: —Ä–æ—Å—Ç –∞—Ü–∏–Ω–∞—Ä–Ω—ã—Ö –∫–ª–µ—Ç–æ–∫. PCL: –ø–∞–Ω–∫—Ä–µ–∞—Ç–∏—Ç (–±–æ–ª—å —Å–ª–µ–≤–∞).', diagnosis:'–ê–¥–µ–Ω–æ–∫–∞—Ä—Ü–∏–Ω–æ–º–∞ (CA), –ø–∞–Ω–∫—Ä–µ–∞—Ç–∏—Ç (PCL).', sense:'–£—Å–∏–ª–∏—Ç—å —Å–µ–∫—Ä–µ—Ü–∏—é –¥–ª—è –ø–µ—Ä–µ—Ä–∞–±–æ—Ç–∫–∏ ¬´–∫—É—Å–∫–∞¬ª.', laterality:'–õ ‚Äî –º–∞—Ç—å/—Ä–µ–±—ë–Ω–æ–∫, –ü ‚Äî –ø–∞—Ä—Ç–Ω—ë—Ä.', tags:['—ç–Ω–¥–æ–¥–µ—Ä–º–∞','–ø–æ–¥–∂–µ–ª—É–¥–æ—á–Ω–∞—è']},
    {id:'endo_7', organ:'–¢–æ–Ω–∫–∏–π –∫–∏—à–µ—á–Ω–∏–∫', conflict:'–ù–µ –º–æ–≥—É ¬´—É—Å–≤–æ–∏—Ç—å¬ª —Å–∏—Ç—É–∞—Ü–∏—é.', symptoms:'CA: —É—Å–∏–ª–µ–Ω–∏–µ –≤—Å–∞—Å—ã–≤–∞–Ω–∏—è. PCL: –¥–∏–∞—Ä–µ—è, —Å–ø–∞–∑–º—ã.', diagnosis:'–≠–Ω—Ç–µ—Ä–∏—Ç (PCL), –∞–¥–µ–Ω–æ–∫–∞—Ä—Ü–∏–Ω–æ–º–∞ (CA).', sense:'–£–ª—É—á—à–∏—Ç—å —É—Å–≤–æ–µ–Ω–∏–µ ¬´–∫—É—Å–∫–∞¬ª.', tags:['—ç–Ω–¥–æ–¥–µ—Ä–º–∞','—Ç–æ–Ω–∫–∏–π –∫–∏—à–µ—á–Ω–∏–∫']},
    {id:'endo_8', organ:'–¢–æ–ª—Å—Ç—ã–π –∫–∏—à–µ—á–Ω–∏–∫/–ø—Ä—è–º–∞—è –∫–∏—à–∫–∞', conflict:'–ù—É–∂–Ω–æ –∏–∑–±–∞–≤–∏—Ç—å—Å—è –æ—Ç ¬´–Ω–µ–Ω—É–∂–Ω–æ–≥–æ¬ª / ¬´–∑–∞—Å—Ç—Ä—è–ª–æ¬ª.', symptoms:'CA: –≥–∏–ø–µ—Ä–ø–ª–∞–∑–∏—è. PCL: —Å–ª–∏–∑—å/–∫—Ä–æ–≤—å, –±–æ–ª–∏.', diagnosis:'–ö–æ–ª–∏—Ç, —Ä–∞–∫ –ø—Ä—è–º–æ–π –∫–∏—à–∫–∏, –≥–µ–º–æ—Ä—Ä–æ–π.', sense:'–§–æ—Ä—Å–∏—Ä–æ–≤–∞—Ç—å –≤—ã–≤–µ–¥–µ–Ω–∏–µ ¬´–ª–∏—à–Ω–µ–≥–æ¬ª.', tags:['—ç–Ω–¥–æ–¥–µ—Ä–º–∞','—Ç–æ–ª—Å—Ç—ã–π –∫–∏—à–µ—á–Ω–∏–∫']},
    {id:'endo_9', organ:'–ú–æ—á–µ–≤–æ–π –ø—É–∑—ã—Ä—å (—ç–Ω–¥–æ—ç–ø–∏—Ç–µ–ª–∏–π)', conflict:'–¢–µ—Ä—Ä–∏—Ç–æ—Ä–∏–∞–ª—å–Ω–æ–µ —Ä–∞–∑–¥—Ä–∞–∂–µ–Ω–∏–µ ¬´–º–µ–Ω—è –¥–æ—Å—Ç–∞–ª–∏¬ª.', symptoms:'CA: –≥–∏–ø–µ—Ä–ø–ª–∞–∑–∏—è. PCL: —Ü–∏—Å—Ç–∏—Ç, —á–∞—Å—Ç—ã–µ –ø–æ–∑—ã–≤—ã.', diagnosis:'–¶–∏—Å—Ç–∏—Ç (PCL), –∞–¥–µ–Ω–æ–∫–∞—Ä—Ü–∏–Ω–æ–º–∞ (CA).', sense:'–£—Å–∏–ª–µ–Ω–∏–µ –º–∞—Ä–∫–∏—Ä–æ–≤–∫–∏ –≥—Ä–∞–Ω–∏—Ü.', tags:['—ç–Ω–¥–æ–¥–µ—Ä–º–∞','–ø—É–∑—ã—Ä—å']},
    {id:'endo_10', organ:'–ú–∞—Ç–∫–∞ (–∂–µ–ª–µ–∑–∏—Å—Ç–∞—è —á–∞—Å—Ç—å)', conflict:'–ü–æ—Ç–µ—Ä—è –ø–æ—Ç–æ–º—Å—Ç–≤–∞/¬´—Ä–µ–±—ë–Ω–∫–∞¬ª (–≤ —Ç.—á. —Å–∏–º–≤–æ–ª–∏—á.).', symptoms:'CA: —Ä–æ—Å—Ç —ç–ø–∏—Ç–µ–ª–∏—è. PCL: –∫—Ä–æ–≤–æ—Ç–µ—á–µ–Ω–∏—è, —Å–ø–∞–∑–º—ã.', diagnosis:'–ê–¥–µ–Ω–æ–∫–∞—Ä—Ü–∏–Ω–æ–º–∞ (CA), —ç–Ω–¥–æ–º–µ—Ç—Ä–∏—Ç (PCL).', sense:'–ë–∏–æ–∫–æ–º–ø–µ–Ω—Å–∞—Ü–∏—è —É—Ç—Ä–∞—Ç—ã.', laterality:'–ü–æ –∂–µ–Ω—Å–∫–æ–º—É –∫–æ–Ω—Ç–µ–∫—Å—Ç—É.', tags:['—ç–Ω–¥–æ–¥–µ—Ä–º–∞','—Ä–µ–ø—Ä–æ–¥—É–∫—Ç–∏–≤–Ω–∞—è']}
  ],
  meso_old: [
    {id:'mold_1', organ:'–ü–ª–µ–≤—Ä–∞/–ë—Ä—é—à–∏–Ω–∞/–ü–µ—Ä–∏–∫–∞—Ä–¥', conflict:'–ê—Ç–∞–∫–∞ –≤–Ω—É—Ç—Ä—å, ¬´–ø—Ä–æ–∫–æ–ª/—É–¥–∞—Ä¬ª –æ—Ä–≥–∞–Ω–∞.', symptoms:'CA: —É—Ç–æ–ª—â–µ–Ω–∏–µ —Å–µ—Ä–æ–∑. PCL: –≤–æ—Å–ø–∞–ª–µ–Ω–∏–µ, –≤—ã–ø–æ—Ç, –±–æ–ª—å.', diagnosis:'–ü–ª–µ–≤—Ä–∏—Ç, –ø–µ—Ä–∏—Ç–æ–Ω–∏—Ç, –ø–µ—Ä–∏–∫–∞—Ä–¥–∏—Ç.', sense:'–ó–∞—â–∏—Ç–Ω—ã–π ¬´–ø–∞–Ω—Ü–∏—Ä—å¬ª.', tags:['—Å—Ç–∞—Ä–∞—è –º–µ–∑–æ–¥–µ—Ä–º–∞','—Å–µ—Ä–æ–∑—ã']},
    {id:'mold_2', organ:'–ö–æ—Å—Ç–∏, –Ω–∞–¥–∫–æ—Å—Ç–Ω–∏—Ü–∞', conflict:'–ü–æ—Ç–µ—Ä—è —Å–∞–º–æ—É–≤–∞–∂–µ–Ω–∏—è, —É–Ω–∏–∂–µ–Ω–∏–µ.', symptoms:'CA: –æ—Å—Ç–µ–æ–ª–∏–∑. PCL: –≤–æ—Å—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∏–µ, –æ—Ç—ë–∫, –±–æ–ª—å.', diagnosis:'–û—Å—Ç–µ–æ–ø–æ—Ä–æ–∑/–æ—Å—Ç–µ–æ–ª–∏–∑ ‚Üí –æ—Å—Ç–µ–æ–º–∏–µ–ª–∏—Ç/¬´–æ–ø—É—Ö–æ–ª—å¬ª (PCL).', sense:'–ü–µ—Ä–µ—Å—Ç—Ä–æ–∏—Ç—å –∏ —É—Å–∏–ª–∏—Ç—å —É—á–∞—Å—Ç–æ–∫.', tags:['—Å—Ç–∞—Ä–∞—è –º–µ–∑–æ–¥–µ—Ä–º–∞','–∫–æ—Å—Ç—å']},
    {id:'mold_3', organ:'–•—Ä—è—â–∏/—Å–≤—è–∑–∫–∏/—Å—É—Ö–æ–∂–∏–ª–∏—è', conflict:'–ü–æ—Ç–µ—Ä—è –≥–∏–±–∫–æ—Å—Ç–∏/–ø–æ–¥–≤–∏–∂–Ω–æ—Å—Ç–∏ (—Å–∏–º–≤–æ–ª.).', symptoms:'CA: –æ—Å–ª–∞–±–ª–µ–Ω–∏–µ. PCL: –≤–æ—Å–ø–∞–ª–µ–Ω–∏–µ, –±–æ–ª—å.', diagnosis:'–ê—Ä—Ç—Ä–æ–∑ ‚Üí –∞—Ä—Ç—Ä–∏—Ç (PCL), —Ç–µ–Ω–¥–∏–Ω–∏—Ç.', sense:'–í–µ—Ä–Ω—É—Ç—å –ø—Ä–æ—á–Ω–æ—Å—Ç—å/—ç–ª–∞—Å—Ç–∏—á–Ω–æ—Å—Ç—å.', tags:['—Å—Ç–∞—Ä–∞—è –º–µ–∑–æ–¥–µ—Ä–º–∞','—Å–≤—è–∑–∫–∏']},
    {id:'mold_4', organ:'–ú–æ–ª–æ—á–Ω–∞—è –∂–µ–ª–µ–∑–∞ (–∞–ª—å–≤–µ–æ–ª—ã)', conflict:'–ó–∞–±–æ—Ç–∞/–±–µ—Å–ø–æ–∫–æ–π—Å—Ç–≤–æ –æ ¬´—Å–ª–∞–±–æ–º¬ª.', symptoms:'CA: —Ä–æ—Å—Ç –∞–ª—å–≤–µ–æ–ª. PCL: —Ä–∞—Å–ø–∞–¥ —É–∑–ª–∞, –±–æ–ª—å.', diagnosis:'–ê–¥–µ–Ω–æ–∫–∞—Ä—Ü–∏–Ω–æ–º–∞ (CA), –º–∞—Å—Ç–∏—Ç (PCL).', sense:'–£—Å–∏–ª–∏—Ç—å –ø–∏—Ç–∞–Ω–∏–µ/—É—Ö–æ–¥.', laterality:'–ü ‚Äî –ø–∞—Ä—Ç–Ω—ë—Ä, –õ ‚Äî —Ä–µ–±—ë–Ω–æ–∫/–º–∞—Ç—å.', tags:['—Å—Ç–∞—Ä–∞—è –º–µ–∑–æ–¥–µ—Ä–º–∞','–≥—Ä—É–¥—å']},
    {id:'mold_5', organ:'–°–µ–ª–µ–∑—ë–Ω–∫–∞', conflict:'–û–ø–∞—Å–Ω–æ—Å—Ç—å –∫—Ä–æ–≤–æ–ø–æ—Ç–µ—Ä–∏/–∏—Å—Ç–æ—â–µ–Ω–∏—è.', symptoms:'CA: –≥–∏–ø–µ—Ä–ø–ª–∞–∑–∏—è. PCL: –≤–æ—Å–ø–∞–ª–µ–Ω–∏–µ, –±–æ–ª—å —Å–ª–µ–≤–∞.', diagnosis:'–°–ø–ª–µ–Ω–æ–º–µ–≥–∞–ª–∏—è/—Å–ø–ª–µ–Ω–∏—Ç; –ª–µ–π–∫–µ–º–∏—è (—Ä–µ–º–æ–Ω—Ç).', sense:'–ö–æ–º–ø–µ–Ω—Å–∞—Ü–∏—è –ø–æ—Ç–µ—Ä–∏ –∫—Ä–æ–≤–∏.', tags:['—Å—Ç–∞—Ä–∞—è –º–µ–∑–æ–¥–µ—Ä–º–∞','—Å–µ–ª–µ–∑—ë–Ω–∫–∞']},
    {id:'mold_6', organ:'–ü–æ—á–∫–∏ ‚Äî —Å–æ–±–∏—Ä–∞—Ç–µ–ª—å–Ω—ã–µ –∫–∞–Ω–∞–ª—å—Ü—ã', conflict:'–ò–∑–æ–ª—è—Ü–∏—è/–±—Ä–æ—à–µ–Ω–Ω–æ—Å—Ç—å (¬´–±–µ–∑ –≤–æ–¥—ã¬ª).', symptoms:'CA: –∑–∞–¥–µ—Ä–∂–∫–∞ –∂–∏–¥–∫–æ—Å—Ç–∏. PCL: –æ—Ç—ë–∫–∏/–≤—ã–≤–µ–¥–µ–Ω–∏–µ –≤–æ–¥—ã.', diagnosis:'–ù–µ—Ñ—Ä–∏—Ç, –ù–ù (–∫–æ–Ω—Ç–µ–∫—Å—Ç).', sense:'–°–æ—Ö—Ä–∞–Ω–∏—Ç—å ¬´–∂–∏–∑–Ω–µ–Ω–Ω—É—é –≤–æ–¥—É¬ª.', tags:['—Å—Ç–∞—Ä–∞—è –º–µ–∑–æ–¥–µ—Ä–º–∞','–ø–æ—á–∫–∏']}
  ],
  meso_new: [],  // –±—É–¥–µ—Ç –¥–æ–±–∞–≤–ª–µ–Ω–æ
  ectoderma: [], // –±—É–¥–µ—Ç –¥–æ–±–∞–≤–ª–µ–Ω–æ
  nervous: []    // –±—É–¥–µ—Ç –¥–æ–±–∞–≤–ª–µ–Ω–æ
};

/* === –†–ï–ù–î–ï–† === */
const searchEl=document.getElementById('q');
function render(){
  // –≤–∫–ª–∞–¥–∫–∏
  document.querySelectorAll('#tabs .tab').forEach((el,i)=>{
    const id=TABS[i].id; el.classList.toggle('active', id===state.tab);
  });
  const area=document.getElementById('cards'); area.innerHTML='';
  const query=(searchEl.value||'').toLowerCase().trim();
  const list=(DB[state.tab]||[]).filter(x=>
    !query ||
    (x.organ&&x.organ.toLowerCase().includes(query)) ||
    (x.conflict&&x.conflict.toLowerCase().includes(query)) ||
    (x.symptoms&&x.symptoms.toLowerCase().includes(query)) ||
    (x.diagnosis&&x.diagnosis.toLowerCase().includes(query)) ||
    (x.sense&&x.sense.toLowerCase().includes(query)) ||
    (x.tags&&x.tags.join(' ').toLowerCase().includes(query))
  );
  if(list.length===0){ area.innerHTML='<p style="text-align:center;opacity:.6;">–ù–µ—Ç –¥–∞–Ω–Ω—ã—Ö</p>'; return; }
  list.forEach(item=>{
    const c=document.createElement('div'); c.className='card';
    const noteKey='note_'+item.id;
    c.innerHTML=`
      <h3>${item.organ}</h3>
      ${item.system?`<p class="badge">${item.system}</p>`:''}
      <p><b>–ö–æ–Ω—Ñ–ª–∏–∫—Ç:</b> ${item.conflict||''}</p>
      <p><b>–°–∏–º–ø—Ç–æ–º—ã:</b> ${item.symptoms||''}</p>
      <p><b>–î–∏–∞–≥–Ω–æ–∑—ã:</b> ${item.diagnosis||''}</p>
      <p><b>–ë–∏–æ–ª. —Å–º—ã—Å–ª:</b> ${item.sense||''}</p>
      ${item.laterality?`<p><b>–õ–∞—Ç–µ—Ä–∞–ª–∏–∑–∞—Ü–∏—è:</b> ${item.laterality}</p>`:''}
      ${item.tags?`<p>${item.tags.map(t=>`<span class="badge">${t}</span>`).join('')}</p>`:''}
      <label>–ó–∞–º–µ—Ç–∫–∏:</label>
      <textarea>${localStorage.getItem(noteKey)||''}</textarea>`;
    c.querySelector('textarea').addEventListener('input',e=>{
      localStorage.setItem(noteKey,e.target.value);
    });
    area.appendChild(c);
  });
}
// –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è –≤–∫–ª–∞–¥–æ–∫
const tabsBox=document.getElementById('tabs');
TABS.forEach(t=>{
  const b=document.createElement('button');
  b.className='tab'+(t.id===state.tab?' active':''); b.textContent=t.label;
  b.onclick=()=>{ state.tab=t.id; localStorage.setItem('gnm.tab',t.id); render(); };
  tabsBox.appendChild(b);
});
// –ø–æ–∏—Å–∫
document.getElementById('q').addEventListener('input',e=>{ state.q=e.target.value; render(); });

// —Å—Ç–∞—Ä—Ç
render();
</script>
</body>
</html>
